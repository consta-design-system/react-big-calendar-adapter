.ReactBigCalendarAdapter {
  --big-calendar-active-color: rgba(0, 113, 178, 0.15);
  --month-column-size: calc(100% / 7);
  --calendar-border-widht: calc(var(--space-3xs) / 2);
  --calendar-gutter-width: calc(var(--space-5xl) - var(--space-3xs));

  &_doubled {
    --calendar-border-widht: var(--space-3xs);
  }

  &_sliced {
    & .rbc-month-row {
      & > .rbc-row-bg {
        & > * {
          position: relative;
          &::after,
          &::before {
            position: absolute;
            content: '';
            left: 0;
            height: 1px;
            width: 100%;
            background: var(--color-bg-stripe);
          }

          &:after {
            top: calc(var(--space-3xl) * 2);
          }

          &:before {
            top: calc(var(--space-l) * 3);
          }
        }
      }

      & > .rbc-row-content {
        & > .rbc-row:first-child {
          & > * {
            position: relative;
            &::after,
            &::before {
              position: absolute;
              content: '';
              left: 0;
              height: 1px;
              width: 100%;
              background: var(--color-bg-stripe);
            }

            &:after {
              top: var(--space-3xl);
            }

            &:before {
              top: var(--space-l);
            }
          }
        }
      }
    }
  }

  & button {
    background: none;
    border: none;
    padding: 0;
    margin: 0;
  }

  & .rbc {
    &-month {
      &-row {
        min-height: 105px;
        position: relative;

        & > .rbc-row-bg {
          display: grid;
          grid-template-columns: repeat(7, var(--month-column-size));
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;

          & > * {
            border-right: var(--calendar-border-widht) solid var(--color-bg-border);
          }

          & > *:first-child {
            border-left: var(--calendar-border-widht) solid var(--color-bg-border);
          }
        }

        & > .rbc-row-content {
          & > .rbc-row {
            &:first-child {
              display: grid;
              width: 100%;
              position: absolute;
              top: 0;
              z-index: 2;
              left: 0;
              grid-template-columns: repeat(7, var(--month-column-size));
            }
            &:nth-child(2) {
              padding-top: var(--space-l);
              & > *:not(:last-child) {
                margin-bottom: calc(var(--space-3xs) / 2);
              }
            }
            &:not(:first-child) {
              display: flex;
              align-items: flex-start;
              justify-content: flex-start;
            }
          }
        }
      }

      &-view {
        & .rbc-event {
          max-height: var(--space-l);
          & .rbc-event-content {
            margin-top: calc(0px - var(--space-3xs));
          }
        }

        & .rbc-row-content {
          position: relative;

          & > .rbc-row {
            &:first-child {
              width: 100%;
              position: absolute;
              top: 0;
              left: 0;
            }
          }
        }

        & > * {
          border-bottom: var(--calendar-border-widht) solid var(--color-bg-border);
        }

        & > *:first-child {
          border-top: var(--calendar-border-widht) solid var(--color-bg-border);
        }
      }

      &-header {
        display: grid;
        grid-template-columns: repeat(7, var(--month-column-size));

        & > * {
          min-height: var(--space-l);
          display: flex;
          align-items: center;
          justify-content: center;
          background: var(--color-bg-default);
          font-size: var(--size-text-s);
          line-height: var(--line-height-text-m);
          color: var(--color-typo-secondary);
          font-weight: var(--font-weight-text-medium);
          border-right: var(--calendar-border-widht) solid var(--color-bg-border);
        }

        & > *:first-child {
          border-left: var(--calendar-border-widht) solid var(--color-bg-border);
        }
      }
    }

    &-agenda {
      &-view {
        & > * {
          width: 100%;
        }

        & th {
          box-sizing: border-box;
        }
      }

      &-date-cell {
        font-size: var(--size-text-s);
        line-height: var(--line-height-text-m);
        color: var(--color-typo-primary);
        font-weight: var(--font-weight-text-semibold);
      }

      &-time-cell {
        font-size: var(--size-text-s);
        line-height: var(--line-height-text-m);
        color: var(--color-typo-primary);
        font-weight: var(--font-weight-text-normal);
      }

      &-event-cell {
        font-size: var(--size-text-s);
        line-height: var(--line-height-text-m);
        color: var(--color-typo-primary);
        font-weight: var(--font-weight-text-normal);
      }

      &-content {
        & > .rbc-agenda-table {
          max-height: max-content;
          width: 100%;

          & > tbody {
            width: 100%;

            & > tr {
              height: 100%;
              width: 100%;
              & > .rbc-header {
                font-size: var(--size-text-s);
                line-height: var(--line-height-text-m);
                color: var(--color-typo-primary);
                font-weight: var(--font-weight-text-semibold);
              }

              & > *:not(:last-child) {
                border-right: var(--calendar-border-widht) solid var(--color-bg-border);
              }

              & > * {
                padding-right: var(--space-2xs);
                padding-left: var(--space-2xs);
                min-height: var(--space-l);
              }

              &:not(:last-child) > * {
                border-bottom: var(--calendar-border-widht) solid var(--color-bg-border);
              }
            }
          }
        }
      }

      &-table {
        height: var(--space-l);
        max-height: var(--space-l);
        position: relative;
        box-sizing: border-box;
        border: var(--calendar-border-widht) solid var(--color-bg-border);
        border-spacing: 0;
        border-collapse: collapse;

        & > thead {
          height: 100%;
          width: 100%;

          & > tr {
            height: 100%;
            width: 100%;
            & > .rbc-header {
              font-size: var(--size-text-s);
              line-height: var(--line-height-text-m);
              color: var(--color-typo-primary);
              font-weight: var(--font-weight-text-semibold);
            }

            & > *:not(:last-child) {
              border-right: var(--calendar-border-widht) solid var(--color-bg-border);
            }
          }
        }
      }
    }

    &-time {
      &-view {
        & > * {
          box-sizing: border-box;
          border: var(--calendar-border-widht) solid var(--color-bg-border);
        }

        & .rbc-background-event {
          min-height: calc(var(--space-l) - var(--space-3xs));
          margin-left: 0;
          margin-right: 0;
        }

        & .rbc-event {
          min-height: calc(var(--space-l) - var(--space-3xs));
          margin-left: 0;
          margin-right: 0;
          &-content {
            font-size: var(--size-text-xs);
            line-height: var(--line-height-text-xs);
          }

          &-label {
            font-size: var(--size-text-xs);
          }
        }
      }

      &-gutter {
        width: var(--calendar-gutter-width);
        height: 100%;

        & > .rbc-timeslot-group {
          & > .rbc-time-slot:last-child {
            border-top-color: transparent;
          }
        }
      }

      & .rbc-row-bg {
        & > * {
          &:not(:first-child) {
            box-sizing: border-box;
            border-left: var(--calendar-border-widht) solid var(--color-bg-border);
          }
        }
      }

      &-content {
        display: flex;
        overflow: auto;
        overflow-y: overlay;

        &::-webkit-scrollbar {
          width: var(--space-xs);
        }

        &::-webkit-scrollbar-track {
          background-color: rgba(0, 66, 105, 0.06);
        }

        &::-webkit-scrollbar-thumb {
          border-radius: var(--control-radius);
          background-color: rgba(0, 66, 105, 0.24);
        }

        & > *:not(:first-child) {
          border-left: var(--calendar-border-widht) solid var(--color-bg-border);
          flex: 1;
        }

        & .rbc-time-column {
          position: relative;
          height: 100%;
          & > *:first-child {
            & > *:first-child {
              border-top: none;
            }
          }
        }

        & .rbc-timeslot-group {
          & > .rbc-time-slot {
            min-height: var(--space-xl);
            & .rbc-label {
              margin-left: calc(var(--space-2xs) - var(--space-3xs) / 2);
              max-width: 5ch;
              text-overflow: hidden;
              white-space: nowrap;
              overflow: hidden;
              font-size: var(--size-text-s);
              line-height: var(--line-height-text-m);
              color: var(--color-typo-primary);
              font-weight: var(--font-weight-text-medium);
            }
          }
          & > *:first-child {
            border-top: var(--calendar-border-widht) solid var(--color-bg-border);
          }
          & > *:nth-child(2) {
            border-top: var(--calendar-border-widht) solid var(--color-bg-stripe);
          }
        }
      }

      &-header {
        width: 100%;
        display: grid;
        grid-template-columns: var(--calendar-gutter-width) auto;

        &-cell {
          &:not(.rbc-time-header-cell-single-day) {
            display: flex;

            & > * {
              flex: 1;
              &:not(:last-child) {
                box-sizing: border-box;
                border-right: var(--calendar-border-widht) solid var(--color-bg-border);
              }
            }
          }
          &.rbc-time-header-cell-single-day {
            display: none;
          }
        }

        &-gutter {
          width: var(--calendar-gutter-width);
          height: 100%;
        }

        &-content {
          display: flex;
          align-items: flex-start;
          justify-content: flex-start;
          flex-direction: column;
          width: 100%;
          border-left: var(--calendar-border-widht) solid var(--color-bg-border);
          box-sizing: border-box;

          & > *:not(:last-child) {
            border-bottom: var(--calendar-border-widht) solid var(--color-bg-border);
          }

          & .rbc-allday-cell {
            display: flex;
            flex-direction: column;
            position: relative;
            min-height: var(--space-l);
          }

          & .rbc-row-content {
            & > .rbc-row {
              display: flex;
              width: 100%;
            }
          }

          & > * {
            width: 100%;

            & > .rbc-row-bg {
              width: 100%;
              position: absolute;
              top: 0;
              left: 0;
              height: 100%;
              display: flex;

              & > .rbc-day-bg {
                flex: 1;
                &:not(:last-child) {
                  box-sizing: border-box;
                  border-right: var(--calendar-border-widht) solid var(--color-bg-border);
                }
              }
            }

            & > .rbc-header {
              display: flex;
              align-items: center;
              justify-content: center;

              & > .rbc-button-link {
                font-size: var(--size-text-s);
                line-height: var(--line-height-text-m);
                color: var(--color-typo-secondary);
                font-weight: var(--font-weight-text-medium);
                cursor: pointer;
              }
            }
          }
        }
      }
    }

    &-events {
      &-container {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;

        & .rbc-event,
        & .rbc-background-event {
          position: absolute;
          max-width: 100%;
        }
      }
    }

    &-show {
      &-more {
        color: var(--color-typo-primary);
        margin-left: calc(var(--space-3xs) / 2);
        margin-right: var(--space-3xs);
        font-size: var(--size-text-s);
        line-height: var(--line-height-text-m);
        font-weight: var(--font-weight-text-semibold);
        cursor: pointer;
      }
    }

    &-background {
      &-event {
        background-color: var(--color-bg-brand);
        color: var(--color-control-typo-primary);
        margin-left: calc(var(--space-3xs) / 2);
        margin-right: var(--space-3xs);
        box-sizing: border-box;
        min-height: var(--space-l);
        border-radius: var(--control-radius);
        padding-left: calc(var(--space-2xs) + var(--space-3xs) / 2);
        padding-right: var(--space-l);
        border: 1px solid var(--color-bg-border);
        transition: background-color 0.3s;

        &.rbc-selected {
          background-color: var(--color-control-bg-primary);
        }
      }
    }

    &-event {
      background-color: var(--color-bg-brand);
      color: var(--color-control-typo-primary);
      margin-left: calc(var(--space-3xs) / 2);
      margin-right: var(--space-3xs);
      box-sizing: border-box;
      min-height: var(--space-l);
      border-radius: var(--control-radius);
      padding-left: calc(var(--space-2xs) + var(--space-3xs) / 2);
      padding-right: var(--space-l);
      border: 1px solid var(--color-bg-border);
      transition: background-color 0.3s;

      &.rbc-selected {
        background-color: var(--color-control-bg-primary);
      }

      &-continues {
        &-prior {
          border-top-left-radius: 0;
          border-bottom-left-radius: 0;
        }

        &-after {
          margin-right: calc(var(--space-3xs) / 2);
          border-top-right-radius: 0;
          border-bottom-right-radius: 0;
        }
      }

      &-content {
        white-space: nowrap;
        overflow: hidden;
        max-width: 100%;
        text-overflow: ellipsis;
        font-size: var(--size-text-s);
        line-height: var(--line-height-text-m);
        font-weight: var(--font-weight-text-regular);
      }
    }

    &-day {
      &-bg {
        background: var(--color-bg-default);

        &.rbc-off-range-bg {
          background: var(--color-bg-ghost);
        }

        &.rbc-today {
          background: var(--big-calendar-active-color);
        }
      }
    }

    &-row {
      position: relative;
      &-segment {
        margin-bottom: calc(var(--space-3xs) / 2);
      }
    }

    &-date {
      &-cell {
        display: flex;
        justify-content: flex-end;
        align-items: flex-start;
        --calendar-cell-color: var(--color-typo-primary);

        &.rbc-off-range {
          --calendar-cell-color: var(--color-typo-secondary);
        }

        & > .rbc-button-link {
          cursor: pointer;
          color: var(--calendar-cell-color);
          margin-top: calc(0px - var(--space-3xs) / 2);
          margin-right: var(--space-2xs);
          font-size: var(--size-text-s);
          line-height: var(--line-height-text-m);
          font-weight: var(--font-weight-text-regular);
        }
      }
    }

    &-toolbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: var(--space-xl);

      & > .rbc-btn-group:first-child {
        order: 1;
        display: flex;
        align-items: center;
        justify-content: cenrer;

        & > button {
          border-radius: var(--control-radius);
          height: var(--space-2xl);
          display: flex;
          align-items: center;
          justify-content: center;
          position: relative;
          cursor: pointer;
          background: var(--color-control-bg-ghost);

          &:hover {
            background: var(--color-control-bg-ghost);
          }

          &:focus {
            outline: none;
            box-shadow: 0 0 0 3px var(--color-control-bg-focus);
            animation: Animation--MixFocus 0.5s ease-in;
          }

          &:not(:first-child) {
            width: var(--space-2xl);
            color: rgba(0, 0, 0, 0);
            &:after {
              position: absolute;
              content: '';
              background-color: var(--color-control-typo-ghost);
              width: var(--space-xl);
              height: var(--space-xl);
            }
          }

          &:first-child {
            color: var(--color-control-typo-ghost);
            font-size: var(--size-text-s);
            line-height: var(--size-text-3xl);
            font-weight: var(--font-weight-text-regular);
            padding: 0 var(--space-m);
            margin-right: var(--space-xs);
          }

          &:nth-child(2) {
            order: -1;
            margin-right: var(--space-xs);
            &:after {
              mask-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC40MDcxIDEyTDE0LjcwNDIgNy43MDI5MUwxMy4yOSA2LjI4ODdMNy41Nzg2NyAxMkwxMy4yOSAxNy43MTEzTDE0LjcwNDIgMTYuMjk3MUwxMC40MDcxIDEyWiIgZmlsbD0iIzAwMzk1QyIgZmlsbC1vcGFjaXR5PSIwLjgiLz4KPC9zdmc+Cg==');
            }
          }

          &:nth-child(3) {
            &:after {
              mask-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMy41OTQyIDEyTDkuMjk3MTIgNy43MDI5MUwxMC43MTEzIDYuMjg4N0wxNi40MjI3IDEyTDEwLjcxMTMgMTcuNzExM0w5LjI5NzEyIDE2LjI5NzFMMTMuNTk0MiAxMloiIGZpbGw9IiMwMDM5NUMiIGZpbGwtb3BhY2l0eT0iMC44Ii8+Cjwvc3ZnPgo=');
            }
          }
        }
      }

      & > .rbc-btn-group:last-child {
        order: 0;
        height: var(--space-2xl);
        border: 1px solid var(--color-control-bg-border-default);
        border-radius: var(--control-radius);

        & > button {
          position: relative;
          color: var(--color-control-typo-default);
          background: var(--color-bg-default);
          padding: 0 var(--space-m);
          font-size: var(--size-text-s);
          line-height: var(--line-height-text-xs);
          font-weight: var(--font-weight-text-regular);
          height: 100%;
          border-radius: var(--control-radius);
          transition: background-color 0.3s, color 0.3s;

          &.rbc-active {
            background: var(--color-control-bg-primary);
            color: var(--color-control-typo-primary);
            height: calc(100% + var(--space-3xs));
            margin-top: calc(0px - var(--space-3xs) / 2);
            margin-left: calc(0px - var(--space-3xs) / 2);
          }
          &:not(:last-child) {
            &:after {
              position: absolute;
              content: '';
              top: calc(var(--space-2xs) + var(--space-3xs) / 2);
              width: calc(var(--space-3xs) / 2);
              right: calc(var(--space-3xs) / 4);
              height: calc(100% - var(--space-s) + var(--space-3xs));
              background: var(--color-control-bg-border-default);
            }
          }
        }
      }

      & > .rbc-toolbar-label {
        order: -1;
        font-weight: var(--font-weight-text-bold);
        font-size: var(--size-text-xl);
        line-height: var(--line-height-text-m);
        color: var(--color-typo-primary);
      }
    }
  }
}

.rbc-overlay {
  box-shadow: 0 2px 2px rgba(0, 32, 51, 0.02), 0 2px 8px rgba(0, 32, 51, 0.16);
  background: #fff;
  border-radius: 4px;
  border: 1px solid rgba(0, 65, 102, 0.2);
  font-family: 'Inter', 'Segoe UI', -apple-system, BlinkMacSystemFont, 'Roboto', 'Oxygen', 'Ubuntu',
    'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  max-width: 300px;

  & > *:not(:last-child):not(:first-child) {
    margin-bottom: 1px;
  }

  & > .rbc-event {
    background-color: #0071b3;
    border-radius: 4px;
    color: #fff;
    font-style: normal;
    font-weight: 400;
    font-size: 14px;
    line-height: 150%;
    padding-left: 6px;
    transition: background-color 0.3s;

    &:nth-child(2) {
      margin-top: 10px;
    }
    &:last-child {
      margin-bottom: 10px;
    }

    margin-left: 10px;
    margin-right: 10px;

    & > .rbc-event-content {
      white-space: nowrap;
      overflow: hidden;
      max-width: 100%;
      text-overflow: ellipsis;
    }

    &.rbc-selected {
      background-color: rgb(0, 120, 210);
    }

    &.rbc-event-continues-after {
      border-top-right-radius: 0;
      border-bottom-right-radius: 0;
    }
    &.rbc-event-continues-prior {
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;
    }
  }

  &-header {
    width: 100%;
    border-bottom: 1px solid rgba(0, 65, 102, 0.2);
    box-sizing: border-box;
    padding-left: 9px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: flex-start;
  }
}

@-webkit-keyframes Animation--MixFocus {
  from {
    -webkit-box-shadow: 0 0 0 0 var(--color-control-bg-focus),
      0 0 0 0 var(--color-control-bg-active);
    box-shadow: 0 0 0 0 var(--color-control-bg-focus), 0 0 0 0 var(--color-control-bg-active);
  }

  to {
    -webkit-box-shadow: 0 0 0 3px var(--color-control-bg-focus), 0 0 0 6px transparent;
    box-shadow: 0 0 0 3px var(--color-control-bg-focus), 0 0 0 6px transparent;
  }
}

@keyframes Animation--MixFocus {
  from {
    -webkit-box-shadow: 0 0 0 0 var(--color-control-bg-focus),
      0 0 0 0 var(--color-control-bg-active);
    box-shadow: 0 0 0 0 var(--color-control-bg-focus), 0 0 0 0 var(--color-control-bg-active);
  }

  to {
    -webkit-box-shadow: 0 0 0 3px var(--color-control-bg-focus), 0 0 0 6px transparent;
    box-shadow: 0 0 0 3px var(--color-control-bg-focus), 0 0 0 6px transparent;
  }
}
